<!DOCTYPE HTML>
<html xmlns="http://www.thymeleaf.org">

<head th:insert="~{fragments/fragments :: head}">
</head>

<body>
	
	
	<header th:insert="~{fragments/navbar :: navbar}">
	</header>


	<main>
		
		<!-- SECTION TABLE INDEX -->
		<section class="container text-center">
			<div class="row align-items-start gap-5">
				
				<!-- TITLE -->
				<div class="col-12 pt-3">
				      <h1>Informazione Pizza Selezionata</h1>
				 </div>
				 
				 
				 <!-- ALERT SUCCES CREATE -->
				 <th:block th:if="${successMessageCreate != null}">
					 <div class="col-12 pt-3 d-flex justify-content-center">
					 	<div th:replace="~{fragments/fragments :: successAlertCreate(${successMessageCreate})}"></div>
					 </div>
				 </th:block>
				 
				 <!-- ALERT SUCCES UPDATE -->
				 <th:block th:if="${successMessageUpdate != null}">
				  <div class="col-12 pt-3 d-flex justify-content-center">
				  	<div th:replace="~{fragments/fragments :: successAlertUpdate(${successMessageUpdate})}"></div>
				  </div>
				 </th:block>
				 
				 
				 <!-- CARD -->
				 <div class="col-12 pb-5 d-flex justify-content-center">
					 <div class="card" style="width: 18rem;">
						
					   <!-- IMG -->
					   <img th:src="@{'/img/'+${pizza.photo}}" class="card-img-top" alt="logo">
					   
					   <div class="card-body">
						
							 <!-- NAME -->
						     <h5 class="card-title" th:text="${pizza.name}"></h5>
							 
							 <!-- DESCRIPTION -->
						     <p class="card-text" th:text="${pizza.description}"></p>
							 
							 <!-- PRICE -->
							 <p class="card-text" th:text="${pizza.price}"></p>
							 
							 <!-- INGREDIENTS AVAILABLE-->
 							 <th:block th:if="${pizza.ingredients.size() > 0}">
 								
								 	<!-- TITLE -->
								 	<h5 class="card-title pt-3">INGREDIENTS AVAILABLE</h5>
								 
									<!-- LIST INGREDIENTS -->
									 <ul class="list-group" th:each="ingredient : ${pizza.ingredients}">
									   <li class="list-group-item">
										
											<!-- NAME DISCOUNT -->
											<span th:text="${ingredient.name}"></span>
										 								
									   </li>
									 </ul>
									 
									<!-- BUTTON CREATE INGREDIENT -->
								   	<a th:href="@{/pizze/edit/{id}(id=${pizza.id})}" style="text-decoration: none;">
								   		<button type="button" class="btn btn-secondary mt-2 mb-2">ADD INGREDIENT</button>
								    </a>
 								 
 							 </th:block>

 							 <!-- INGREDIENTS NO AVAILABLE-->
 							 <th:block th:unless="${pizza.ingredients.size() > 0}">

	 							 	<!-- TITLE -->
	 							 	<h5 class="card-title pt-3">INGREDIENTS NOT AVAILABLE...</h5>
									
									<!-- BUTTON CREATE INGREDIENT -->
								   	<a th:href="@{/pizze/edit/{id}(id=${pizza.id})}" style="text-decoration: none;">
								   		<button type="button" class="btn btn-secondary mb-3">ADD INGREDIENT</button>
								    </a>
 							  
 							 </th:block>
							 
							 
							 <!-- DISCOUNTS AVAILABLE-->
							 <th:block th:if="${pizza.discounts.size() > 0}">
								
							 	<!-- TITLE -->
							 	<h5 class="card-title pt-3">DISCOUNTS AVAILABLE</h5>
							 
								<!-- LIST DISCOUNTS -->
								 <ul class="list-group" th:each="discount : ${pizza.discounts}">
								   <li class="list-group-item">
									
										<!-- NAME DISCOUNT -->
										<span th:text="${discount.title}"></span>
										
										<!-- BUTTON UPDATE DISCOUNT -->
									   	<a th:href="@{/discounts/edit/{id}(id=${discount.id})}" style="text-decoration: none;">
									   		<button type="button" class="btn btn-secondary" style="--bs-btn-padding-y: .25rem; --bs-btn-padding-x: .5rem; --bs-btn-font-size: .75rem;">UPDATE</button>
									   </a>
								
								   </li>
								 </ul>
								 
							 </th:block>

							 <!-- DISCOUNTS NO AVAILABLE-->
							 <th:block th:unless="${pizza.discounts.size() > 0}">

							 	<!-- TITLE -->
							 	<h5 class="card-title pt-3">DISCOUNTS NOT AVAILABLE...</h5>
							  
							 </th:block>
							 
						     
							 <!-- BUTTON -->
							 <div class="d-grid d-md-block">
								
								<a th:href="@{/pizze}" style="text-decoration: none;">
									<button class="btn btn-warning mt-3">BACK</button>
								</a>
								
								<a th:href="@{/pizze/show/{id}/discount(id=${pizza.id})}" style="text-decoration: none;">
									<button class="btn btn-success mt-3">NEW DISCOUNT</button>
								</a>
								
							 </div>

		
					  </div>
					  
					 </div>
				 </div>
				 
			</div>
		</section>

	</main>

</body>


<th:block th:replace="~{fragments/fragments :: scripts}">
</th:block>


</html>